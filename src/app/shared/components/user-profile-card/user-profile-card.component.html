<h4>{{title}}</h4>
<div class="card">
    <div class="card-body">
        <ng-template [ngIf]="!isEditProfile" [ngIfElse]="profileFormBlock">
            <span>Full Name</span>
            <span class="">
                <button (click)="editProfile()" class="btn btn-light btn-pill   btn-sm ml-2">
                    <span class="fa fa-pencil"></span>
                </button>
            </span>
            <app-user-activation-switch [user]="user" cssClass="pull-right"></app-user-activation-switch>
            <h3>{{user.fullName}}</h3>       
        </ng-template>
        <ng-template #profileFormBlock>
            <form [formGroup]="profileForm" (ngSubmit)="updateProfile()">
                <fieldset [disabled]="savingProfile">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>First Name</label>
                                <input formControlName="firstName" class="form-control">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Last Name</label>
                                <input formControlName="lastName" class="form-control">
                            </div>                    
                            <span class="pull-right">
                                <button type="button" (click)="cancelEditProfile()" class="btn btn-light">
                                    Cancel
                                </button>
                                <button type="submit" class="btn btn-primary">
                                    Save
                                </button>
                            </span>
                        </div>
                    </div>
                </fieldset>
            </form>
        </ng-template>
        <ng-template [ngIf]="!isEditAuth" [ngIfElse]="authFormBlock">
            <span>Email</span>
            <span class="">
                <button (click)="editAuthForm()" class="btn btn-light btn-pill btn-sm ml-2">
                    <span class="fa fa-pencil"></span>
                </button>
            </span>
            <h3>{{user.email}}</h3>
        </ng-template>
        <ng-template #authFormBlock>
            <form [formGroup]="authForm" (ngSubmit)="updateAuth()">
                <fieldset [disabled]="savingAuth">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label>Email</label>
                                <input formControlName="email" type="email" class="form-control">
                                <app-input-error-helper [control]="authForm.controls.email"></app-input-error-helper>
                            </div>
                            <span class="pull-right">
                                <button (click)="cancelEditAuthForm()" class="btn btn-light" type="button">
                                    Cancel
                                </button>
                                <button class="btn btn-primary" type="submit">
                                    Save
                                </button>
                            </span>
                        </div>
                    </div>
                </fieldset>
            </form>
        </ng-template>
        <span>Username</span>
        <h3>{{user.username}}</h3>
    </div>
</div>