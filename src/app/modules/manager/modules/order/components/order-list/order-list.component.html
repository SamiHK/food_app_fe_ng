<c-row class="mt-3">
    <ng-template #emptyBlock>
        <c-col>
            <c-card >
                <c-card-body>
                    Empty
                </c-card-body>
            </c-card>
        </c-col>
    </ng-template>
    <c-col *ngIf="(page && page.items && page.items.length > 0) else emptyBlock">
        <c-card *ngFor="let order of page.items">
            <c-card-body>
                <span class="d-flex justify-content-between">
                    <span class="d-flex gap-2 flex-row">
                        <span class="fw-bold">
                            #{{order.id}}
                        </span>
                        <span class="d-flex flex-column">
                            <span class="d-flex gap-2 align-items-center">
                                <span *ngIf="order.salesperson" class="fw-semibold" [routerLink]="['/manager/salesperson', order.salesperson.id]">
                                    {{order.salesperson.fullName}}
                                </span>
                                <small *ngIf="!order.isDelivery">
                                    <c-badge color="info">
                                        In Branch Order
                                    </c-badge>
                                </small>
                            </span>
                            <span *ngIf="order.customer" class="d-flex flex-column">
                                <span class="fw-regular">{{order.customer.fullName}}</span>
                                <span class="fw-regular" cTooltip="Contant Number">
                                    <svg cIcon name="cilPhone"></svg>
                                    {{order.customer.cellNumber}}
                                </span>
                            </span>
                            <span *ngIf="order.isDelivery" class="fw-regular" cTooltip="Delivery Address">
                                <span class="" *ngIf="order.address">
                                    <svg cIcon name="cilLocationPin"></svg>
                                    {{order.address.formattedAddress}}
                                </span>
                            </span>
                        </span>
                    </span>
                    <span class="d-flex flex-column align-items-end">
                        <span>
                            <c-badge color="danger">{{order.status}}</c-badge>
                        </span>
                        <span class="fw-semibold">
                            {{order.total | currency: 'Pkr '}}
                        </span>
                        <span class="d-flex gap-2 align-items-center">
                            <svg cIcon name="cilClock"></svg>
                            <small *ngIf="order.updatedOn else createdOnBlock">{{order.updatedOn | date:'hh:mm a / MMM dd, YYYY'}}</small>
                            <ng-template #createdOnBlock>
                                <small>{{order.createdOn | date:'hh:mm a / MMM dd, YYYY'}}</small>
                            </ng-template>
                        </span>
                    </span>
                </span>
            </c-card-body>
        </c-card>
    </c-col>
</c-row>
<c-row class="mt-2" *ngIf="page && page.items && page.items.length > 0">
    <c-col>
        <pagination *ngIf="page && page.items && page.items.length > 0" [totalItems]="page.total"
            [(ngModel)]="page.number" [itemsPerPage]="page.size" (pageChanged)="onPageChange($event)"></pagination>
    </c-col>
</c-row>