<c-card *ngIf="isLoadingMenuItems else loadedBlock">
    <c-card-body>
        <c-spinner aria-hidden="true" label="Loading..." size="sm"></c-spinner> Loading...
    </c-card-body>
</c-card>
<ng-template #loadedBlock>
    <ng-template [ngIf]="menuItems && menuItems.length > 0" [ngIfElse]="emptyblock">
        <c-row [sm]="1" [gutter]="2" [(dragulaModel)]="menuItems" dragula="menuItems" class="">
            <c-col *ngFor="let i of menuItems" class="d-flex justify-content-stretch">
                <c-card class="d-flex flex-row flex-grow-1">
                    <img *ngIf="i.primaryImg" [cCardImg] [src]="i.primaryImg" class="img-md">
                    <c-card-body class="d-flex flex-column text-truncate">
                        <h6 cCardTitle>{{i.title}}</h6>
                        <p *ngIf="i.description && i.description != ''" class="text-wrap mb-1">{{i.description}}</p>
                        <span class="flex-grow-1"></span>
                        <div class="d-flex flex-sm-row flex-column gap-2 justify-content-sm-between align-items-sm-end">
                            <span class="d-flex flex-column gap-1">
                                <small class="fw-semibold">{{i.unit}}</small>
                                <span class="d-flex gap-2 flex-column flex-md-row">
                                    <span>
                                        <c-badge color="primary" shape="rounded-pill">{{i.price |
                                            currency:'Pkr
                                            '}}</c-badge>
                                    </span>
                                    <span *ngIf="i.oldPrice">
                                        <!-- <small>Old Price</small> -->
                                        <c-badge color="danger" shape="rounded-pill">
                                            <span class="text-decoration-line-through">
                                                {{ i.oldPrice | currency:'Pkr '}}
                                            </span>
                                        </c-badge>
                                    </span>
                                </span>
                            </span>
                            <span class="d-flex justify-content-end">
                                <span class="d-flex gap-2">
                                    <app-upload-button (imageChange)="updateMenuItemImage($event)" size="sm"
                                        label='Update Image' [id]="i.id"></app-upload-button>
                                    <span>
                                        <a [routerLink]="['item', i.id, 'edit']" routerLinkActive="disabled" cButton
                                            color="light" size="sm">Edit</a>

                                    </span>
                                </span>
                            </span>
                        </div>
                    </c-card-body>
                </c-card>
            </c-col>
        </c-row>
    </ng-template>
    <ng-template #emptyblock>
        <c-card>
            <c-card-body>
                empty
            </c-card-body>
        </c-card>
    </ng-template>
</ng-template>